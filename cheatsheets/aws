# Env var
AWS_PROFILE=...  # or --profile ...
AWS_REGION=...

# Get a CloudFormation template
aws cloudformation get-template --stack-name STACKNAME

# Get current account details
aws sts get-caller-identity

# EC2
# ===

# Start instances
aws ec2 start-instances --instance-ids i-...
#
# List all ec2 instances
aws ec2 describe-instances

# Get state and instances ids
aws ec2 describe-instances | jq '.Reservations[].Instances[] | {State,InstanceId}'

# IAM
# ===

# List roles
aws iam list-roles

# SSM
# ===

# Get SSM parameters
aws ssm get-parameters-by-path --path /path/ | jq .Parameters[].Name

# Set a SSM secret value
aws ssm put-parameter --overwrite --cli-input-json '{
  "Name": "",
  "Value": "",
  "Type": "SecureString",
  "KeyId": "alias/whatever"
}'
